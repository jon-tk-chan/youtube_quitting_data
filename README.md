# youtube_quitting_data


## Summary

Purpose is to collect and analyze transcripts from YouTube videos explaining why they quit their jobs. Techniques will include text natural language processing tasks such as question answering, sentiment analysis (text2emotion), and topic modelling. First draft is to focus on the pipeline running, with further experimentation to address model performance and limitations

### Methodology

- text2emotion - chosen for use of broad emotion categories - happy vs fear in the context of changing employment situation
- tinyroberta-squad2 - chosen for runtime speed with acceptable performance


### Steps

1. youtube_script.ipynb - connect to Youtube API, search query related to 'why i quit', iterate through pages to scrape Youtube video information
    - Get Youtube video IDs, performance metric
    - OUTPUT: youtube_stats.json
                {'tags':tags,'channelId': channelId,'channelTitle': channelTitle,'categoryId':categoryId,'title':title,'videoId':videoId,'viewCount':viewCount,'likeCount':likeCount,'dislikeCount':dislikeCount,'commentCount':commentCount,'favoriteCount':favoriteCount,"description": descriptions}
2. process_transcripts.ipynb
    - iterate through 'VideoId' field of youtube_stats.json, collect transcripts (manually created if available AND autogenerated transcripts)
    output: processed_MAN.json (50 transcripts)
            {video_id: [list of str], [entire transcript str]}
    output: processed_ALL.json (1800+ transcripts)
            {video_id: [list of str], [entire transcript str]}
3. qa_working_script.ipynb (COLAB) - iterate through processed_ALL.json and perform question answering using tinyroberta-squad2
        LINK TO HUGGINGFACE MODEL
        Questions:
            prev_job: What was his or her job?
            quit_rsn1: Why did they quit?
            quit_rsn2: What is the main reason for him or her to quit?
        OUTPUT: quitting_qa_out.csv
3. create_emotions_df - iterate through processed_MAN.json, assign sentiment (Happy, sad, surprised, fear angry) for each sentence, create dataframe for all sentences with at least one emotion above the threshold of 0.25 (between 0 and 1)
    output: transcript_emotions.csv
        Index(['transcript_id', 'video_id', 'sent_id', 'sent_text', 'Happy', 'Angry','Surprise', 'Sad', 'Fear'],dtype='object')

OUTDATED: topic_modelling_EXP, question_answering, get_transcripts, aspect_sentiment


#### Refactor: 
- rerun create emotions_df with processed_ALL.json
- rerun qa_working_script.ipynb (long run)

#### Limitations
- Videos returned by YouTube API are not all about quitting work (ie: quitting smoking, quitting and moving to another platform)
- Limitations of certain prompts 
    - search query used in step 1
    - 3 questions used in QA model 

